<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JujuAI - Chat GPT Style</title>
<style>
    body { background:#0d0f14; margin:0; font-family:Arial; color:#eee; }
    #chatbox { height:80vh; overflow-y:auto; padding:10px; }
    .bubble { max-width:70%; margin:10px; padding:12px; border-radius:10px; line-height:1.4; }
    .user { background:#4ade80; color:#000; margin-left:auto; }
    .ai { background:#1f2937; }
    footer { display:flex; padding:10px; background:#111; }
    input { flex:1; padding:10px; border:none; border-radius:5px; }
    button { margin-left:8px; padding:10px 15px; background:#10b981; border:none; border-radius:5px; color:#000; font-weight:bold; cursor:pointer; }
</style>
</head>
<body>

<h2 style="text-align:center; background:#111; margin:0; padding:10px;">ðŸ¤– JujuAI</h2>
<div id="chatbox"></div>

<footer>
    <input type="text" id="input" placeholder="Tanyakan sesuatu..." />
    <button onclick="sendMessage()">Kirim</button>
</footer>

<script>
    const chatbox = document.getElementById('chatbox');
    const input = document.getElementById('input');

    function addMessage(text, sender){
        const div = document.createElement('div');
        div.className = 'bubble ' + sender;
        div.textContent = text;
        chatbox.appendChild(div);
        chatbox.scrollTop = chatbox.scrollHeight;
    }

    async function sendMessage(){
        const text = input.value.trim();
        if(!text) return;
        addMessage(text, 'user');
        input.value = '';

        addMessage("Sedang berpikir...", 'ai');

        // kirim ke server kamu yang akan aku buat nanti
        const res = await fetch('/api/chat', {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({ prompt: text })
        });

        const data = await res.json();
        document.querySelectorAll('.ai').pop(); // hapus "berpikir"
        addMessage(data.reply, 'ai');
    }
</script>

</body>
</html>
